{"id":"physics/movement.js","dependencies":[{"name":"/Users/dave/code/playground/platformer/package.json","includedInParent":true,"mtime":1553408869065},{"name":"./constants","loc":{"line":1,"column":33},"parent":"/Users/dave/code/playground/platformer/src/physics/movement.js","resolved":"/Users/dave/code/playground/platformer/src/physics/constants.js"},{"name":"../geometry","loc":{"line":2,"column":21},"parent":"/Users/dave/code/playground/platformer/src/physics/movement.js","resolved":"/Users/dave/code/playground/platformer/src/geometry/index.js"}],"generated":{"js":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.stopIfLowVelocity = exports.moveEntities = void 0;\n\nvar _constants = require(\"./constants\");\n\nvar _geometry = require(\"../geometry\");\n\nvar move = function move(entity) {\n  entity.x += entity.vx;\n  entity.y += entity.vy;\n};\n\nvar accelerate = function accelerate(entity) {\n  entity.vx += entity.ax;\n  entity.vy += entity.ay;\n};\n\nvar moveEntities = function moveEntities(entities) {\n  entities.forEach(function (entity) {\n    accelerate(entity);\n    move(entity);\n  });\n};\n\nexports.moveEntities = moveEntities;\n\nvar stopIfLowVelocity = function stopIfLowVelocity(entity, axis) {\n  var v;\n\n  if (axis === _geometry.AXES.VERTICAL) {\n    v = entity.vy;\n  }\n\n  if (axis === _geometry.AXES.HORIZONTAL) {\n    v = entity.vx;\n  } // if (v === undefined) {\n  //   throw new Error('Invalid axis provided.')\n  // }\n\n\n  if (Math.abs(v) < _constants.STICKY_THRESHOLD) {\n    v = 0;\n  }\n};\n\nexports.stopIfLowVelocity = stopIfLowVelocity;"},"sourceMaps":{"js":{"mappings":[{"generated":{"line":8,"column":0},"source":"physics/movement.js","original":{"line":1,"column":0}},{"generated":{"line":10,"column":0},"source":"physics/movement.js","original":{"line":2,"column":0}},{"generated":{"line":12,"column":0},"source":"physics/movement.js","original":{"line":4,"column":0}},{"name":"move","generated":{"line":12,"column":4},"source":"physics/movement.js","original":{"line":4,"column":6}},{"generated":{"line":12,"column":8},"source":"physics/movement.js","original":{"line":4,"column":10}},{"generated":{"line":12,"column":11},"source":"physics/movement.js","original":{"line":4,"column":13}},{"name":"move","generated":{"line":12,"column":20},"source":"physics/movement.js","original":{"line":4,"column":6}},{"generated":{"line":12,"column":24},"source":"physics/movement.js","original":{"line":4,"column":13}},{"name":"entity","generated":{"line":12,"column":25},"source":"physics/movement.js","original":{"line":4,"column":13}},{"generated":{"line":12,"column":31},"source":"physics/movement.js","original":{"line":4,"column":19}},{"generated":{"line":12,"column":33},"source":"physics/movement.js","original":{"line":4,"column":23}},{"name":"entity","generated":{"line":13,"column":0},"source":"physics/movement.js","original":{"line":5,"column":2}},{"name":"entity","generated":{"line":13,"column":2},"source":"physics/movement.js","original":{"line":5,"column":2}},{"generated":{"line":13,"column":8},"source":"physics/movement.js","original":{"line":5,"column":8}},{"name":"x","generated":{"line":13,"column":9},"source":"physics/movement.js","original":{"line":5,"column":9}},{"generated":{"line":13,"column":10},"source":"physics/movement.js","original":{"line":5,"column":2}},{"name":"entity","generated":{"line":13,"column":14},"source":"physics/movement.js","original":{"line":5,"column":14}},{"generated":{"line":13,"column":20},"source":"physics/movement.js","original":{"line":5,"column":20}},{"name":"vx","generated":{"line":13,"column":21},"source":"physics/movement.js","original":{"line":5,"column":21}},{"generated":{"line":13,"column":23},"source":"physics/movement.js","original":{"line":5,"column":2}},{"name":"entity","generated":{"line":14,"column":0},"source":"physics/movement.js","original":{"line":6,"column":2}},{"name":"entity","generated":{"line":14,"column":2},"source":"physics/movement.js","original":{"line":6,"column":2}},{"generated":{"line":14,"column":8},"source":"physics/movement.js","original":{"line":6,"column":8}},{"name":"y","generated":{"line":14,"column":9},"source":"physics/movement.js","original":{"line":6,"column":9}},{"generated":{"line":14,"column":10},"source":"physics/movement.js","original":{"line":6,"column":2}},{"name":"entity","generated":{"line":14,"column":14},"source":"physics/movement.js","original":{"line":6,"column":14}},{"generated":{"line":14,"column":20},"source":"physics/movement.js","original":{"line":6,"column":20}},{"name":"vy","generated":{"line":14,"column":21},"source":"physics/movement.js","original":{"line":6,"column":21}},{"generated":{"line":14,"column":23},"source":"physics/movement.js","original":{"line":6,"column":2}},{"generated":{"line":15,"column":0},"source":"physics/movement.js","original":{"line":7,"column":1}},{"generated":{"line":15,"column":1},"source":"physics/movement.js","original":{"line":4,"column":0}},{"generated":{"line":17,"column":0},"source":"physics/movement.js","original":{"line":9,"column":0}},{"name":"accelerate","generated":{"line":17,"column":4},"source":"physics/movement.js","original":{"line":9,"column":6}},{"generated":{"line":17,"column":14},"source":"physics/movement.js","original":{"line":9,"column":16}},{"generated":{"line":17,"column":17},"source":"physics/movement.js","original":{"line":9,"column":19}},{"name":"accelerate","generated":{"line":17,"column":26},"source":"physics/movement.js","original":{"line":9,"column":6}},{"generated":{"line":17,"column":36},"source":"physics/movement.js","original":{"line":9,"column":19}},{"name":"entity","generated":{"line":17,"column":37},"source":"physics/movement.js","original":{"line":9,"column":19}},{"generated":{"line":17,"column":43},"source":"physics/movement.js","original":{"line":9,"column":25}},{"generated":{"line":17,"column":45},"source":"physics/movement.js","original":{"line":9,"column":29}},{"name":"entity","generated":{"line":18,"column":0},"source":"physics/movement.js","original":{"line":10,"column":2}},{"name":"entity","generated":{"line":18,"column":2},"source":"physics/movement.js","original":{"line":10,"column":2}},{"generated":{"line":18,"column":8},"source":"physics/movement.js","original":{"line":10,"column":8}},{"name":"vx","generated":{"line":18,"column":9},"source":"physics/movement.js","original":{"line":10,"column":9}},{"generated":{"line":18,"column":11},"source":"physics/movement.js","original":{"line":10,"column":2}},{"name":"entity","generated":{"line":18,"column":15},"source":"physics/movement.js","original":{"line":10,"column":15}},{"generated":{"line":18,"column":21},"source":"physics/movement.js","original":{"line":10,"column":21}},{"name":"ax","generated":{"line":18,"column":22},"source":"physics/movement.js","original":{"line":10,"column":22}},{"generated":{"line":18,"column":24},"source":"physics/movement.js","original":{"line":10,"column":2}},{"name":"entity","generated":{"line":19,"column":0},"source":"physics/movement.js","original":{"line":11,"column":2}},{"name":"entity","generated":{"line":19,"column":2},"source":"physics/movement.js","original":{"line":11,"column":2}},{"generated":{"line":19,"column":8},"source":"physics/movement.js","original":{"line":11,"column":8}},{"name":"vy","generated":{"line":19,"column":9},"source":"physics/movement.js","original":{"line":11,"column":9}},{"generated":{"line":19,"column":11},"source":"physics/movement.js","original":{"line":11,"column":2}},{"name":"entity","generated":{"line":19,"column":15},"source":"physics/movement.js","original":{"line":11,"column":15}},{"generated":{"line":19,"column":21},"source":"physics/movement.js","original":{"line":11,"column":21}},{"name":"ay","generated":{"line":19,"column":22},"source":"physics/movement.js","original":{"line":11,"column":22}},{"generated":{"line":19,"column":24},"source":"physics/movement.js","original":{"line":11,"column":2}},{"generated":{"line":20,"column":0},"source":"physics/movement.js","original":{"line":12,"column":1}},{"generated":{"line":20,"column":1},"source":"physics/movement.js","original":{"line":9,"column":0}},{"generated":{"line":22,"column":0},"source":"physics/movement.js","original":{"line":14,"column":7}},{"name":"moveEntities","generated":{"line":22,"column":4},"source":"physics/movement.js","original":{"line":14,"column":13}},{"generated":{"line":22,"column":16},"source":"physics/movement.js","original":{"line":14,"column":25}},{"generated":{"line":22,"column":19},"source":"physics/movement.js","original":{"line":14,"column":28}},{"name":"moveEntities","generated":{"line":22,"column":28},"source":"physics/movement.js","original":{"line":14,"column":13}},{"generated":{"line":22,"column":40},"source":"physics/movement.js","original":{"line":14,"column":28}},{"name":"entities","generated":{"line":22,"column":41},"source":"physics/movement.js","original":{"line":14,"column":28}},{"generated":{"line":22,"column":49},"source":"physics/movement.js","original":{"line":14,"column":36}},{"generated":{"line":22,"column":51},"source":"physics/movement.js","original":{"line":14,"column":40}},{"name":"entities","generated":{"line":23,"column":0},"source":"physics/movement.js","original":{"line":15,"column":2}},{"name":"entities","generated":{"line":23,"column":2},"source":"physics/movement.js","original":{"line":15,"column":2}},{"generated":{"line":23,"column":10},"source":"physics/movement.js","original":{"line":15,"column":10}},{"name":"forEach","generated":{"line":23,"column":11},"source":"physics/movement.js","original":{"line":15,"column":11}},{"generated":{"line":23,"column":18},"source":"physics/movement.js","original":{"line":15,"column":2}},{"generated":{"line":23,"column":19},"source":"physics/movement.js","original":{"line":15,"column":19}},{"name":"entity","generated":{"line":23,"column":29},"source":"physics/movement.js","original":{"line":15,"column":19}},{"generated":{"line":23,"column":35},"source":"physics/movement.js","original":{"line":15,"column":25}},{"generated":{"line":23,"column":37},"source":"physics/movement.js","original":{"line":15,"column":29}},{"name":"accelerate","generated":{"line":24,"column":0},"source":"physics/movement.js","original":{"line":16,"column":4}},{"name":"accelerate","generated":{"line":24,"column":4},"source":"physics/movement.js","original":{"line":16,"column":4}},{"generated":{"line":24,"column":14},"source":"physics/movement.js","original":{"line":16,"column":14}},{"name":"entity","generated":{"line":24,"column":15},"source":"physics/movement.js","original":{"line":16,"column":15}},{"generated":{"line":24,"column":21},"source":"physics/movement.js","original":{"line":16,"column":14}},{"generated":{"line":24,"column":22},"source":"physics/movement.js","original":{"line":16,"column":4}},{"name":"move","generated":{"line":25,"column":0},"source":"physics/movement.js","original":{"line":17,"column":4}},{"name":"move","generated":{"line":25,"column":4},"source":"physics/movement.js","original":{"line":17,"column":4}},{"generated":{"line":25,"column":8},"source":"physics/movement.js","original":{"line":17,"column":8}},{"name":"entity","generated":{"line":25,"column":9},"source":"physics/movement.js","original":{"line":17,"column":9}},{"generated":{"line":25,"column":15},"source":"physics/movement.js","original":{"line":17,"column":8}},{"generated":{"line":25,"column":16},"source":"physics/movement.js","original":{"line":17,"column":4}},{"generated":{"line":26,"column":0},"source":"physics/movement.js","original":{"line":18,"column":3}},{"generated":{"line":26,"column":3},"source":"physics/movement.js","original":{"line":15,"column":2}},{"generated":{"line":27,"column":0},"source":"physics/movement.js","original":{"line":19,"column":1}},{"generated":{"line":27,"column":1},"source":"physics/movement.js","original":{"line":14,"column":7}},{"generated":{"line":31,"column":0},"source":"physics/movement.js","original":{"line":21,"column":7}},{"name":"stopIfLowVelocity","generated":{"line":31,"column":4},"source":"physics/movement.js","original":{"line":21,"column":13}},{"generated":{"line":31,"column":21},"source":"physics/movement.js","original":{"line":21,"column":30}},{"generated":{"line":31,"column":24},"source":"physics/movement.js","original":{"line":21,"column":33}},{"name":"stopIfLowVelocity","generated":{"line":31,"column":33},"source":"physics/movement.js","original":{"line":21,"column":13}},{"generated":{"line":31,"column":50},"source":"physics/movement.js","original":{"line":21,"column":33}},{"name":"entity","generated":{"line":31,"column":51},"source":"physics/movement.js","original":{"line":21,"column":34}},{"generated":{"line":31,"column":57},"source":"physics/movement.js","original":{"line":21,"column":33}},{"name":"axis","generated":{"line":31,"column":59},"source":"physics/movement.js","original":{"line":21,"column":42}},{"generated":{"line":31,"column":63},"source":"physics/movement.js","original":{"line":21,"column":33}},{"generated":{"line":31,"column":65},"source":"physics/movement.js","original":{"line":21,"column":51}},{"generated":{"line":32,"column":0},"source":"physics/movement.js","original":{"line":22,"column":2}},{"name":"v","generated":{"line":32,"column":6},"source":"physics/movement.js","original":{"line":22,"column":6}},{"generated":{"line":32,"column":7},"source":"physics/movement.js","original":{"line":22,"column":2}},{"generated":{"line":34,"column":0},"source":"physics/movement.js","original":{"line":23,"column":2}},{"name":"axis","generated":{"line":34,"column":6},"source":"physics/movement.js","original":{"line":23,"column":6}},{"generated":{"line":34,"column":10},"source":"physics/movement.js","original":{"line":23,"column":10}},{"name":"AXES","generated":{"line":34,"column":15},"source":"physics/movement.js","original":{"line":23,"column":15}},{"name":"VERTICAL","generated":{"line":34,"column":30},"source":"physics/movement.js","original":{"line":23,"column":20}},{"generated":{"line":34,"column":38},"source":"physics/movement.js","original":{"line":23,"column":2}},{"generated":{"line":34,"column":40},"source":"physics/movement.js","original":{"line":23,"column":30}},{"name":"v","generated":{"line":35,"column":0},"source":"physics/movement.js","original":{"line":23,"column":32}},{"name":"v","generated":{"line":35,"column":4},"source":"physics/movement.js","original":{"line":23,"column":32}},{"generated":{"line":35,"column":5},"source":"physics/movement.js","original":{"line":23,"column":33}},{"name":"entity","generated":{"line":35,"column":8},"source":"physics/movement.js","original":{"line":23,"column":36}},{"generated":{"line":35,"column":14},"source":"physics/movement.js","original":{"line":23,"column":42}},{"name":"vy","generated":{"line":35,"column":15},"source":"physics/movement.js","original":{"line":23,"column":43}},{"generated":{"line":35,"column":17},"source":"physics/movement.js","original":{"line":23,"column":32}},{"generated":{"line":36,"column":0},"source":"physics/movement.js","original":{"line":23,"column":47}},{"generated":{"line":38,"column":0},"source":"physics/movement.js","original":{"line":24,"column":2}},{"name":"axis","generated":{"line":38,"column":6},"source":"physics/movement.js","original":{"line":24,"column":6}},{"generated":{"line":38,"column":10},"source":"physics/movement.js","original":{"line":24,"column":10}},{"name":"AXES","generated":{"line":38,"column":15},"source":"physics/movement.js","original":{"line":24,"column":15}},{"name":"HORIZONTAL","generated":{"line":38,"column":30},"source":"physics/movement.js","original":{"line":24,"column":20}},{"generated":{"line":38,"column":40},"source":"physics/movement.js","original":{"line":24,"column":2}},{"generated":{"line":38,"column":42},"source":"physics/movement.js","original":{"line":24,"column":32}},{"name":"v","generated":{"line":39,"column":0},"source":"physics/movement.js","original":{"line":24,"column":34}},{"name":"v","generated":{"line":39,"column":4},"source":"physics/movement.js","original":{"line":24,"column":34}},{"generated":{"line":39,"column":5},"source":"physics/movement.js","original":{"line":24,"column":35}},{"name":"entity","generated":{"line":39,"column":8},"source":"physics/movement.js","original":{"line":24,"column":38}},{"generated":{"line":39,"column":14},"source":"physics/movement.js","original":{"line":24,"column":44}},{"name":"vx","generated":{"line":39,"column":15},"source":"physics/movement.js","original":{"line":24,"column":45}},{"generated":{"line":39,"column":17},"source":"physics/movement.js","original":{"line":24,"column":34}},{"generated":{"line":40,"column":0},"source":"physics/movement.js","original":{"line":24,"column":49}},{"generated":{"line":40,"column":3},"source":"physics/movement.js","original":{"line":21,"column":51}},{"generated":{"line":40,"column":4},"source":"physics/movement.js","original":{"line":25,"column":2}},{"generated":{"line":41,"column":0},"source":"physics/movement.js","original":{"line":26,"column":2}},{"generated":{"line":42,"column":0},"source":"physics/movement.js","original":{"line":27,"column":2}},{"generated":{"line":45,"column":0},"source":"physics/movement.js","original":{"line":28,"column":2}},{"name":"Math","generated":{"line":45,"column":6},"source":"physics/movement.js","original":{"line":28,"column":6}},{"generated":{"line":45,"column":10},"source":"physics/movement.js","original":{"line":28,"column":10}},{"name":"abs","generated":{"line":45,"column":11},"source":"physics/movement.js","original":{"line":28,"column":11}},{"generated":{"line":45,"column":14},"source":"physics/movement.js","original":{"line":28,"column":6}},{"name":"v","generated":{"line":45,"column":15},"source":"physics/movement.js","original":{"line":28,"column":15}},{"generated":{"line":45,"column":16},"source":"physics/movement.js","original":{"line":28,"column":6}},{"name":"STICKY_THRESHOLD","generated":{"line":45,"column":20},"source":"physics/movement.js","original":{"line":28,"column":20}},{"generated":{"line":45,"column":47},"source":"physics/movement.js","original":{"line":28,"column":2}},{"generated":{"line":45,"column":49},"source":"physics/movement.js","original":{"line":28,"column":38}},{"name":"v","generated":{"line":46,"column":0},"source":"physics/movement.js","original":{"line":29,"column":4}},{"name":"v","generated":{"line":46,"column":4},"source":"physics/movement.js","original":{"line":29,"column":4}},{"generated":{"line":46,"column":5},"source":"physics/movement.js","original":{"line":29,"column":5}},{"generated":{"line":46,"column":8},"source":"physics/movement.js","original":{"line":29,"column":8}},{"generated":{"line":46,"column":9},"source":"physics/movement.js","original":{"line":29,"column":4}},{"generated":{"line":47,"column":0},"source":"physics/movement.js","original":{"line":30,"column":3}},{"generated":{"line":48,"column":0},"source":"physics/movement.js","original":{"line":31,"column":1}},{"generated":{"line":48,"column":1},"source":"physics/movement.js","original":{"line":21,"column":7}}],"sources":{"physics/movement.js":"import { STICKY_THRESHOLD } from './constants'\nimport { AXES } from '../geometry'\n\nconst move = entity => {\n  entity.x += entity.vx\n  entity.y += entity.vy\n}\n\nconst accelerate = entity => {\n  entity.vx += entity.ax\n  entity.vy += entity.ay\n}\n\nexport const moveEntities = entities => {\n  entities.forEach(entity => {\n    accelerate(entity)\n    move(entity)\n  })\n}\n\nexport const stopIfLowVelocity = (entity, axis) => {\n  let v\n  if (axis === AXES.VERTICAL) { v = entity.vy }\n  if (axis === AXES.HORIZONTAL) { v = entity.vx }\n  // if (v === undefined) {\n  //   throw new Error('Invalid axis provided.')\n  // }\n  if (Math.abs(v) < STICKY_THRESHOLD) {\n    v = 0\n  }\n}\n\n"},"lineCount":null}},"error":null,"hash":"ca156808b0dc722b2cf1f81802ecf6ce","cacheData":{"env":{}}}